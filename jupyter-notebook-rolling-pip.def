Bootstrap:docker
From: ubuntu:rolling

%post

apt-get update
apt-get install -y curl git graphviz python3 python3-pip wget
apt-get clean

pip3 install graphviz jupyter jupyter_contrib_nbextensions
/usr/local/bin/jupyter contrib nbextension install --system
/usr/local/bin/jupyter-nbextensions_configurator

%environment

export XDG_RUNTIME_DIR=""


%runscript

echo "Running Jupyter notebook ..."
test -z "$JUPYTER_PORT" && JUPYTER_PORT=8888
/usr/local/bin/jupyter notebook --notebook-dir=. --ip='*' --port=$JUPYTER_PORT --no-browser


